sudo: false
language: python
python:
- '3.3'
- '3.4'
- '3.5'
- '3.6'
- nightly
matrix:
  allow_failures:
  - python: nightly
  include:
  - python: '3.6'
    env: TOXENV=lint
  - python: '3.6'
    env: TOXENV=scan
install: make travis-install
before_script: make travis-before-script
script: make travis-script
after_script: make travis-after-script
deploy:
- provider: pypi
  server: https://test.pypi.org/legacy/
  user: Andrew.Hawker
  password:
    secure: VHR/BEv5pvw0LYwv12ivZmLTnV/Ilz0QdYqkOAu5p4jeHsOuqeDKrVN1yh69YxIVnQnaEbJEQf5pCTk8RufGM+YyzwEp7iHrMR25REAUR/0SnU4U2Z94HPi7RkW9padUMWVGnX3Pzc+7XBExL22AWKFJ/9CDMvsO9kcqUtb+bTx56sgvh0Yh2R5V5eIxIi8iIx1LbLsyJA6Jtb7ccfGvXko51DldGSn1J68FjyVIA7UTTW+hAlh7XABeJNgtpxLGSqzPyhKhLazrsR6QVsXjx0wwtU8MRqurn4BGZIAMGM077yUWJ1Wv1TgBfaH76oB+AUM0r1UybH7Awtc20/NGUtJYLfJ0A6ILEWM3XSjIwZo408aiYzac6ypGHRMx6+EhZMnNPf0cIgFxHVQhbAbCfuRWEXeHoTgt6JWo01MdoWZ876wOMjIDc/2nN5zTq5UCrFAaAyhyFGCWMr0D6mucXTUS8OKQEgxa1qg7oWqfV+dOmwFKaiVIaeaFoFmchk/R4kF1wovURFp5pKwin0DoP0/DDnIHfr3sgWhcVC22PAE+5oGLu9s/33f1fJTzWJNt4o3LJBL0R528aWM5okEuFuRhQFhwN267U0KZY9MbB1qpWcKziHyyBbpvelkTzUNPnb/yozHdTLtFC8+8HIXbxxrmtuR3FqgyKPwBjSjOcdU=
  distributions: sdist bdist_wheel
  skip_cleanup: true
  on:
    branch: master
    tags: false
    condition: $TRAVIS_PYTHON_VERSION = "3.4"
- provider: pypi
  server: https://upload.pypi.org/legacy/
  user: Andrew.Hawker
  password:
    secure: E5vxK/i2YF7Y9VK6vkVzv0B/p6VEuH4OE8346gnpqTxopJfuqV3ev6Bu9p7djRbrGyrSnDrdp52P80MQFQ5E+FZVGUVCC7X3ju/E7ThFQgom9io1Q2xdM6EX+sKdcfUtiuDmcBnd2b+4dkNTYBOXm1pNjSQQ2w1cQNWwYCA/Y1UNczuwRIPFU2U/7Id3gp+Tq8LN35WA9j8LfzaWwrSI7CmMMeuZ7+MV28EKz95WVss+PlUavTyXEVjM9QVoBD+hPv8J/yF3GPZ+UJpz15htg29V7IbK2r4WZ5mvRgB3YygpyaBpyTBjpG5uRH8XsmEe/qvr13RLxNuW9TmLNRscKYpszPh5TeNacm+azpvJ/+PDKC22wVcjICNHiNO6Vp84K8N3jT2wbpiJrvg6YZ40RR7pg2Itk1bwRxPIIlPIeT1lJlKnWlctjS3haixwe9gqww/NQkGxxP6WD0Scv/bRBw9rBjdrZ21teNHycgedKgZ3o05aQ6rpo1WLmNi7Hza8TCb2mQN9JMgssZ9s/9nlICf33FikSBZq1ripVRcD7QfndUPMFCqPeITWl2w9SGh7e5RWl1pkewYmUoqSDz75PQth4Kupiu/wE+G5T4uYXZSRjDjlsFFzRMetdOPynBrqKMBnSZhQ0GPpg/xRsq8VFwPkGE0un30w4y2mIAhlHVs=
  distributions: sdist bdist_wheel
  skip_cleanup: true
  on:
    branch: master
    tags: true
    condition: $TRAVIS_PYTHON_VERSION = "3.4"
notifications:
  slack:
    secure: LiRVoggt16ZNgzVw7zuTejrTPF8s2LZUw6gKeqIlw8b6q/kyY+i94PVgFDT0qSugfUjq4L5/r48rJ7Vpd2coHDimmMx6OTyhTv2P0iCLTP9x5OdltEBsIV/4lsyKl5IHVaM4gjUIpfsDRJohGjccAa4XAIzWguojn2Ea2dVXjw3oYpGSMye4GKQfkbkUwz0PqumppniLE1LkwK9ing5kin5DQtqBIBu3bcuv1a956e3KODPvMfkaOlhHOXZjITBuqo8H2gcajmnH/U7d6fioVQKUKGS4/RwrEmZgiFhSsRiZJXJ/jal9RPpVAfIN81/Ke3PsWBZs/JBxQx2hcUpJKhO1Uyz/Nt0Ph6SiufO97H6MindN5+90PxU+a6eTfMY8vrtSPmfreo39TyjQWB58AZ5SoJ5jAq5ldbF/E6E+tLtRWNKdeY8iPzLSwACaxj5clxRPOGOgmmgmkJUomUXVKQe2EIa+MZtTcQGg6bU391vdfMGmSeMQxW76gsifGF5m1kKM+rw9arddN7MnbvXwPdQ7so/ZYiWnlGgh/mestiKpAPf7WUHhrBMQ5L9sSLbEwETPbZehs1kYk4GS2tZ566b8pR6kejEvS0HpSIawtxdTfRy7DWcatRbuiTkynW028HDqEuNJrf1RDP1onaYBArGji1sP8DT+QQV2nLssddI=
env:
  global:
  - VIRTUALENV_NO_DOWNLOAD=1
  - secure: AiyZUELj6vVrnyVdCqVQD7pdV6IzS43zfcsJA6UudVe+z9PPcfBNyJe+92cBfASPR0Pg/FkbeUQmhHCDS+IvMIabips55k6N4b4vOz6Qu8dYGT28hy8PNZEeyTMt/Y8fF5hjW9UXoduHgnniPSJIctt+33/hNjq+ZNrc76KlwLzEFI63JqMjpGKT4nGWXzIN1Wfu7GE8ezVNUcfpYJeRiPXvBNOc6f9VdJDotxivOw3pclSGlYdogQfD5TeVOou/okIq+H9bUpIF2X4mAfBD18glT+caCBimJGcf0NnU7QeZSQPzbZEUpnaYzv6TJ9Awxt0rNmUuQHgPBz4SHniRGs/0UBRO/XqsDIyvSCYQHMle/AKG50U5M7DrCJby5ztqz0NvSlzFWdWIfJFa4n6Q6y5nLMpFDHvmCQ1gxaVeqGx7E5ZK2wH0+9C9me7P5euKPoDYpjesxaECzhhBypi3uKKuqDvsGhw7PkWM2ZCPmi07XxChSNYO2L3rd2pcA89KBfq3kXWXJQxfKhF5gNLjFdB5PWIeE0VoexP734WXDSRJVmNZhel3rLt3UbRVBPQv9FGnAe0JPR+2V0fh7P8l/IN8NpACvzWxyaL2BKe8YckcdSemwl4wkS+9ZipX+uc0/E/77YNEue2595hNRVqAH7BHaG7mag2eK64kmjaIb+w=
  - secure: joQ8UCreKRCJ5WiBFSM148qVPMcWvodeEfuxqvIfD9rbhUhyHase6rxVV0QYmeRsyi4UMaybi5kDns5VRCEgOSDywL19EjHkr15v5ZpqxLcBsUarDnALW1nbGCvKQ9ddArPeGWRd5iusXcPLeUcQ6hEfMHnfoWdRBZCs5CbnIObMKdhVl5jWeFCjYn4WD9qId/9m2RQxTR5QYxpoiVDDgE2kGXkix8Fy/WO+8jZ9ESsLkMZ8mRNmOvyLPGlW0tUj2IWt8BYdFdmgkzeyZSghjYo69xkSeAeHZkylRSkrhF/uLWTyMpnrcG13566vrPLEBXSG6lmH5HCdjIze3Ll0D/FFWJiwlK+0oealyX4xpKzbMyU2u2L6ea2qI3dTGyCNyewynn5R5bZ9IztSH57PL1F3vxhZRKB/IpSIw3jBFr0z8xEix1sKfr8Uc6pMvSagv9OrmBMplfD9iDqyhC3nOWDni6INYvD3K0/5W//yk3HkmtsJyR3R1OUAm0UPxztKTQVWKdhd1xV5b1eFJ3NWyspHtJve1f/XoPtDg5+d/MZDD0+8uEp6xkZX3ljYCb4qsgXnvLEaQkiW4AIR+I3v+WWhHgYq6wevj6yaTcnNR15n4PswqsjIWUxxs+xhNhhJN+Hzu1rI93weA+n+GfIFVvQ3d27sPZTJUtK4Q5fnqrA=
